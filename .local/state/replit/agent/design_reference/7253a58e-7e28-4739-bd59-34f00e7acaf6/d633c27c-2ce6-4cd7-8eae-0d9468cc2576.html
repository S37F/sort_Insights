<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sorting Algorithms Visualizer & Analyzer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                        'mono': ['JetBrains Mono', 'monospace']
                    },
                    animation: {
                        'bounce-gentle': 'bounce 1s infinite',
                        'pulse-slow': 'pulse 2s infinite',
                        'fade-in': 'fadeIn 0.3s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(10px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        }
                    }
                }
            },
            darkMode: 'class'
        };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="font-inter bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-all duration-300">
    <!-- @COMPONENT: Header [theme toggle, title, navigation] -->
    <header class="bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center">
                        <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center">
                            <span class="text-white font-bold text-sm">SA</span>
                        </div>
                        <h1 class="ml-3 text-xl font-bold text-gray-900 dark:text-white">Sorting Algorithms Visualizer</h1>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <!-- Theme Toggle -->
                    <button id="themeToggle" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200">
                        <svg class="w-5 h-5 text-yellow-500 dark:hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
                        </svg>
                        <svg class="w-5 h-5 text-gray-400 hidden dark:block" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                        </svg>
                    </button>
                    
                    <!-- Comparison Mode Toggle -->
                    <button id="comparisonToggle" class="px-4 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-all duration-200 font-medium">
                        <span class="comparison-text">Enable Comparison</span>
                    </button>
                </div>
            </div>
        </div>
    </header>
    <!-- @END_COMPONENT: Header -->

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- @COMPONENT: MainContent [algorithm controls, visualization, information panels] -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <!-- Left Column - Algorithm Selection & Controls -->
            <div class="lg:col-span-1 space-y-6">
                <!-- Algorithm Selection Card -->
                <!-- @COMPONENT: AlgorithmSelector [dropdown, algorithm list] -->
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 transition-all duration-300">
                    <h3 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">Select Algorithm</h3>
                    <div class="space-y-3">
                        <select id="algorithmSelect" class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200">
                            <option value="bubble">Bubble Sort</option>
                            <option value="selection">Selection Sort</option>
                            <option value="insertion">Insertion Sort</option>
                            <option value="merge" selected>Merge Sort</option>
                            <option value="quick">Quick Sort</option>
                            <option value="heap">Heap Sort</option>
                            <option value="counting">Counting Sort</option>
                            <option value="radix">Radix Sort</option>
                            <option value="bucket">Bucket Sort</option>
                            <option value="shell">Shell Sort</option>
                            <option value="bogo">Bogo Sort</option>
                        </select>
                        
                        <!-- Array Size Input -->
                        <div class="flex items-center space-x-3">
                            <label class="text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap">Array Size:</label>
                            <input type="number" id="arraySize" value="50" min="10" max="200" class="flex-1 px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200">
                        </div>
                        
                        <!-- Speed Control -->
                        <div class="flex items-center space-x-3">
                            <label class="text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap">Speed:</label>
                            <input type="range" id="speedSlider" min="1" max="10" value="5" class="flex-1 h-2 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer">
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: AlgorithmSelector -->

                <!-- Control Buttons -->
                <!-- @COMPONENT: ControlButtons [start, stop, reset, randomize] -->
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 transition-all duration-300">
                    <h3 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">Controls</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <button id="startBtn" class="px-4 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-lg">
                            Start
                        </button>
                        <button id="stopBtn" class="px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-lg">
                            Stop
                        </button>
                        <button id="resetBtn" class="px-4 py-3 bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-lg">
                            Reset
                        </button>
                        <button id="randomizeBtn" class="px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-lg">
                            Randomize
                        </button>
                    </div>
                </div>
                <!-- @END_COMPONENT: ControlButtons -->

                <!-- Performance Stats -->
                <!-- @COMPONENT: PerformanceStats [timing, comparisons, swaps] -->
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 transition-all duration-300">
                    <h3 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">Performance Stats</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600 dark:text-gray-400">Execution Time:</span>
                            <span id="executionTime" class="text-sm font-mono font-semibold text-blue-600 dark:text-blue-400">0ms</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600 dark:text-gray-400">Comparisons:</span>
                            <span id="comparisons" class="text-sm font-mono font-semibold text-green-600 dark:text-green-400">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600 dark:text-gray-400">Swaps:</span>
                            <span id="swaps" class="text-sm font-mono font-semibold text-orange-600 dark:text-orange-400">0</span>
                        </div>
                        <div class="pt-2 border-t border-gray-200 dark:border-gray-700">
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-600 dark:text-gray-400">Array Access:</span>
                                <span id="arrayAccess" class="text-sm font-mono font-semibold text-purple-600 dark:text-purple-400">0</span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: PerformanceStats -->
            </div>

            <!-- Center Column - Visualization -->
            <div class="lg:col-span-2 space-y-6">
                <!-- Visualization Area -->
                <!-- @COMPONENT: VisualizationArea [animated bars, comparison view] -->
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 transition-all duration-300">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Array Visualization</h3>
                        <div class="flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400">
                            <div class="w-3 h-3 bg-blue-500 rounded-full"></div>
                            <span>Current Element</span>
                            <div class="w-3 h-3 bg-red-500 rounded-full ml-4"></div>
                            <span>Comparing</span>
                        </div>
                    </div>
                    
                    <!-- Single View -->
                    <div id="singleView" class="visualization-container">
                        <div class="h-80 bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 flex items-end justify-center space-x-1" id="arrayContainer">
                            <!-- @MAP: array.map((value, index) => ( -->
                            <div class="bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 120px; width: 8px;" data-mock="true"></div>
                            <div class="bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 80px; width: 8px;" data-mock="true"></div>
                            <div class="bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 160px; width: 8px;" data-mock="true"></div>
                            <div class="bg-gradient-to-t from-red-500 to-red-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 200px; width: 8px;" data-mock="true"></div>
                            <div class="bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 40px; width: 8px;" data-mock="true"></div>
                            <div class="bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 140px; width: 8px;" data-mock="true"></div>
                            <div class="bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 100px; width: 8px;" data-mock="true"></div>
                            <div class="bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 180px; width: 8px;" data-mock="true"></div>
                            <!-- Continue pattern for more bars... -->
                            <!-- @END_MAP )) -->
                        </div>
                        <div class="mt-4 text-center">
                            <p class="text-sm text-gray-600 dark:text-gray-400">
                                Algorithm: <span class="font-semibold text-gray-900 dark:text-white" data-bind="selectedAlgorithm">Merge Sort</span>
                            </p>
                        </div>
                    </div>
                    
                    <!-- Comparison View (Hidden by default) -->
                    <div id="comparisonView" class="visualization-container hidden">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="text-sm font-semibold mb-3 text-gray-700 dark:text-gray-300">Algorithm A</h4>
                                <div class="h-64 bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 flex items-end justify-center space-x-1" id="arrayContainer1">
                                    <!-- Similar bar structure as above -->
                                    <div class="bg-gradient-to-t from-green-500 to-green-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 80px; width: 6px;" data-mock="true"></div>
                                    <div class="bg-gradient-to-t from-green-500 to-green-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 120px; width: 6px;" data-mock="true"></div>
                                    <div class="bg-gradient-to-t from-green-500 to-green-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 60px; width: 6px;" data-mock="true"></div>
                                    <div class="bg-gradient-to-t from-green-500 to-green-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 140px; width: 6px;" data-mock="true"></div>
                                </div>
                            </div>
                            <div>
                                <h4 class="text-sm font-semibold mb-3 text-gray-700 dark:text-gray-300">Algorithm B</h4>
                                <div class="h-64 bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 flex items-end justify-center space-x-1" id="arrayContainer2">
                                    <div class="bg-gradient-to-t from-purple-500 to-purple-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 80px; width: 6px;" data-mock="true"></div>
                                    <div class="bg-gradient-to-t from-purple-500 to-purple-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 120px; width: 6px;" data-mock="true"></div>
                                    <div class="bg-gradient-to-t from-purple-500 to-purple-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 60px; width: 6px;" data-mock="true"></div>
                                    <div class="bg-gradient-to-t from-purple-500 to-purple-400 rounded-t-sm transition-all duration-300 flex-shrink-0" style="height: 140px; width: 6px;" data-mock="true"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: VisualizationArea -->

                <!-- Algorithm Information Tabs -->
                <!-- @COMPONENT: AlgorithmInfo [description, complexity, code snippets] -->
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 transition-all duration-300">
                    <!-- Tab Headers -->
                    <div class="border-b border-gray-200 dark:border-gray-700">
                        <nav class="flex space-x-8 px-6" aria-label="Tabs">
                            <button class="tab-button active border-b-2 border-blue-500 py-4 px-1 text-sm font-medium text-blue-600 dark:text-blue-400" data-tab="description">
                                Description
                            </button>
                            <button class="tab-button border-b-2 border-transparent py-4 px-1 text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600" data-tab="complexity">
                                Complexity
                            </button>
                            <button class="tab-button border-b-2 border-transparent py-4 px-1 text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600" data-tab="code">
                                Code
                            </button>
                        </nav>
                    </div>

                    <!-- Tab Content -->
                    <div class="p-6">
                        <!-- Description Tab -->
                        <div id="description-tab" class="tab-content">
                            <div class="space-y-4">
                                <div>
                                    <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-2" data-bind="algorithmName">Merge Sort</h4>
                                    <p class="text-gray-700 dark:text-gray-300 leading-relaxed" data-bind="algorithmDescription">
                                        Merge Sort is a divide-and-conquer algorithm that divides the input array into two halves, recursively sorts both halves, and then merges the sorted halves. It's one of the most efficient comparison-based sorting algorithms.
                                    </p>
                                </div>
                                <div class="grid grid-cols-2 gap-4 mt-6">
                                    <div class="bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4">
                                        <h5 class="font-semibold text-gray-900 dark:text-white mb-2">Stability</h5>
                                        <p class="text-green-600 dark:text-green-400 font-medium" data-bind="algorithmStability">Stable</p>
                                    </div>
                                    <div class="bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4">
                                        <h5 class="font-semibold text-gray-900 dark:text-white mb-2">In-Place</h5>
                                        <p class="text-red-600 dark:text-red-400 font-medium" data-bind="algorithmInPlace">No</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Complexity Tab -->
                        <div id="complexity-tab" class="tab-content hidden">
                            <div class="overflow-x-auto">
                                <table class="w-full text-sm">
                                    <thead>
                                        <tr class="border-b border-gray-200 dark:border-gray-700">
                                            <th class="text-left py-3 px-4 font-semibold text-gray-900 dark:text-white">Metric</th>
                                            <th class="text-left py-3 px-4 font-semibold text-gray-900 dark:text-white">Best Case</th>
                                            <th class="text-left py-3 px-4 font-semibold text-gray-900 dark:text-white">Average Case</th>
                                            <th class="text-left py-3 px-4 font-semibold text-gray-900 dark:text-white">Worst Case</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                                        <tr>
                                            <td class="py-3 px-4 text-gray-700 dark:text-gray-300 font-medium">Time Complexity</td>
                                            <td class="py-3 px-4 font-mono text-green-600 dark:text-green-400" data-bind="timeBest">O(n log n)</td>
                                            <td class="py-3 px-4 font-mono text-blue-600 dark:text-blue-400" data-bind="timeAverage">O(n log n)</td>
                                            <td class="py-3 px-4 font-mono text-red-600 dark:text-red-400" data-bind="timeWorst">O(n log n)</td>
                                        </tr>
                                        <tr>
                                            <td class="py-3 px-4 text-gray-700 dark:text-gray-300 font-medium">Space Complexity</td>
                                            <td class="py-3 px-4 font-mono text-orange-600 dark:text-orange-400" data-bind="spaceComplexity" colspan="3">O(n)</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Code Tab -->
                        <div id="code-tab" class="tab-content hidden">
                            <div class="space-y-4">
                                <!-- Code Language Selector -->
                                <div class="flex space-x-2 border-b border-gray-200 dark:border-gray-700 pb-4">
                                    <button class="code-tab-button active px-4 py-2 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-sm font-medium" data-lang="cpp">
                                        C++
                                    </button>
                                    <button class="code-tab-button px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 text-sm font-medium transition-all duration-200" data-lang="java">
                                        Java
                                    </button>
                                    <button class="code-tab-button px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 text-sm font-medium transition-all duration-200" data-lang="python">
                                        Python
                                    </button>
                                    <button class="code-tab-button px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 text-sm font-medium transition-all duration-200" data-lang="c">
                                        C
                                    </button>
                                </div>
                                
                                <!-- Code Content -->
                                <div class="bg-gray-900 rounded-lg overflow-hidden">
                                    <div class="bg-gray-800 px-4 py-2 text-gray-300 text-sm font-medium border-b border-gray-700">
                                        <span class="code-filename" data-bind="filename">mergeSort.cpp</span>
                                    </div>
                                    <pre class="p-4 text-sm overflow-x-auto"><code class="language-cpp" data-mock="true">void mergeSort(vector&lt;int&gt;&amp; arr, int left, int right) {
    if (left &lt; right) {
        int mid = left + (right - left) / 2;
        
        mergeSort(arr, left, mid);
        mergeSort(arr, mid + 1, right);
        
        merge(arr, left, mid, right);
    }
}

void merge(vector&lt;int&gt;&amp; arr, int left, int mid, int right) {
    int n1 = mid - left + 1;
    int n2 = right - mid;
    
    vector&lt;int&gt; leftArr(n1), rightArr(n2);
    
    for (int i = 0; i &lt; n1; i++)
        leftArr[i] = arr[left + i];
    for (int j = 0; j &lt; n2; j++)
        rightArr[j] = arr[mid + 1 + j];
    
    int i = 0, j = 0, k = left;
    
    while (i &lt; n1 &amp;&amp; j &lt; n2) {
        if (leftArr[i] &lt;= rightArr[j]) {
            arr[k] = leftArr[i];
            i++;
        } else {
            arr[k] = rightArr[j];
            j++;
        }
        k++;
    }
    
    while (i &lt; n1) {
        arr[k] = leftArr[i];
        i++;
        k++;
    }
    
    while (j &lt; n2) {
        arr[k] = rightArr[j];
        j++;
        k++;
    }
}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: AlgorithmInfo -->

                <!-- Performance Charts -->
                <!-- @COMPONENT: PerformanceCharts [line chart, bar chart, comparison] -->
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 transition-all duration-300">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Performance Analysis</h3>
                        <div class="flex space-x-2">
                            <button id="runBenchmark" class="px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg font-medium text-sm transition-all duration-200 transform hover:scale-105">
                                Run Benchmark
                            </button>
                            <button id="globalComparison" class="px-4 py-2 bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white rounded-lg font-medium text-sm transition-all duration-200 transform hover:scale-105">
                                Global Analysis
                            </button>
                        </div>
                    </div>
                    
                    <div class="h-80 bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 flex items-center justify-center">
                        <canvas id="performanceChart" class="max-w-full max-h-full"></canvas>
                        <div id="chartPlaceholder" class="text-center">
                            <div class="w-16 h-16 bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-700 rounded-full mx-auto mb-4 flex items-center justify-center">
                                <svg class="w-8 h-8 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                </svg>
                            </div>
                            <p class="text-gray-600 dark:text-gray-400">Run a benchmark to see performance charts</p>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: PerformanceCharts -->
            </div>
        </div>

        <!-- Global Comparison Modal (Hidden by default) -->
        <!-- @COMPONENT: GlobalComparisonModal [all algorithms comparison] -->
        <div id="globalModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50 p-4">
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 max-w-6xl w-full max-h-[90vh] overflow-hidden">
                <div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700">
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-white">Global Algorithm Comparison</h3>
                    <button id="closeModal" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-all duration-200">
                        <svg class="w-6 h-6 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div>
                            <h4 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">Execution Time Comparison</h4>
                            <div class="h-80 bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4">
                                <canvas id="globalChart1" class="w-full h-full"></canvas>
                            </div>
                        </div>
                        <div>
                            <h4 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">Operation Count Analysis</h4>
                            <div class="h-80 bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4">
                                <canvas id="globalChart2" class="w-full h-full"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Algorithm Comparison Table -->
                    <div class="mt-8">
                        <h4 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">Detailed Comparison</h4>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm border border-gray-200 dark:border-gray-700 rounded-lg">
                                <thead class="bg-gray-50 dark:bg-gray-900/50">
                                    <tr>
                                        <th class="text-left py-3 px-4 font-semibold text-gray-900 dark:text-white">Algorithm</th>
                                        <th class="text-left py-3 px-4 font-semibold text-gray-900 dark:text-white">Time (ms)</th>
                                        <th class="text-left py-3 px-4 font-semibold text-gray-900 dark:text-white">Comparisons</th>
                                        <th class="text-left py-3 px-4 font-semibold text-gray-900 dark:text-white">Swaps</th>
                                        <th class="text-left py-3 px-4 font-semibold text-gray-900 dark:text-white">Stability</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200 dark:divide-gray-700" data-mock="true">
                                    <tr>
                                        <td class="py-3 px-4 font-medium text-gray-900 dark:text-white">Bubble Sort</td>
                                        <td class="py-3 px-4 text-red-600 dark:text-red-400">245.3</td>
                                        <td class="py-3 px-4 text-gray-700 dark:text-gray-300">1,225</td>
                                        <td class="py-3 px-4 text-gray-700 dark:text-gray-300">612</td>
                                        <td class="py-3 px-4 text-green-600 dark:text-green-400">Stable</td>
                                    </tr>
                                    <tr>
                                        <td class="py-3 px-4 font-medium text-gray-900 dark:text-white">Merge Sort</td>
                                        <td class="py-3 px-4 text-green-600 dark:text-green-400">12.8</td>
                                        <td class="py-3 px-4 text-gray-700 dark:text-gray-300">264</td>
                                        <td class="py-3 px-4 text-gray-700 dark:text-gray-300">0</td>
                                        <td class="py-3 px-4 text-green-600 dark:text-green-400">Stable</td>
                                    </tr>
                                    <tr>
                                        <td class="py-3 px-4 font-medium text-gray-900 dark:text-white">Quick Sort</td>
                                        <td class="py-3 px-4 text-green-600 dark:text-green-400">8.4</td>
                                        <td class="py-3 px-4 text-gray-700 dark:text-gray-300">183</td>
                                        <td class="py-3 px-4 text-gray-700 dark:text-gray-300">97</td>
                                        <td class="py-3 px-4 text-red-600 dark:text-red-400">Unstable</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: GlobalComparisonModal -->
        <!-- @END_COMPONENT: MainContent -->
    </div>

    <!-- Footer -->
    <footer class="bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 mt-16 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="text-center">
                <p class="text-gray-600 dark:text-gray-400 text-sm">
                    Built for educational purposes • Learn algorithms through interactive visualization
                </p>
                <div class="mt-4 flex justify-center space-x-6 text-sm text-gray-500 dark:text-gray-500">
                    <span>Interactive Learning</span>
                    <span>•</span>
                    <span>Performance Analysis</span>
                    <span>•</span>
                    <span>Algorithm Comparison</span>
                </div>
            </div>
        </div>
    </footer>

    <script>
    (function() {
        // Theme management
        // @STATE: isDarkMode:boolean = false
        let isDarkMode = document.documentElement.classList.contains('dark');
        
        const themeToggle = document.getElementById('themeToggle');
        themeToggle.addEventListener('click', function() {
            // TODO: Implement theme persistence with localStorage
            isDarkMode = !isDarkMode;
            document.documentElement.classList.toggle('dark', isDarkMode);
        });
        
        // Comparison mode toggle
        // @STATE: isComparisonMode:boolean = false
        let isComparisonMode = false;
        const comparisonToggle = document.getElementById('comparisonToggle');
        const singleView = document.getElementById('singleView');
        const comparisonView = document.getElementById('comparisonView');
        const comparisonText = document.querySelector('.comparison-text');
        
        comparisonToggle.addEventListener('click', function() {
            isComparisonMode = !isComparisonMode;
            
            if (isComparisonMode) {
                singleView.classList.add('hidden');
                comparisonView.classList.remove('hidden');
                comparisonText.textContent = 'Disable Comparison';
                comparisonToggle.classList.add('bg-blue-600', 'text-white');
                comparisonToggle.classList.remove('bg-blue-100', 'dark:bg-blue-900/30', 'text-blue-700', 'dark:text-blue-300');
            } else {
                singleView.classList.remove('hidden');
                comparisonView.classList.add('hidden');
                comparisonText.textContent = 'Enable Comparison';
                comparisonToggle.classList.remove('bg-blue-600', 'text-white');
                comparisonToggle.classList.add('bg-blue-100', 'dark:bg-blue-900/30', 'text-blue-700', 'dark:text-blue-300');
            }
        });
        
        // Tab management for algorithm info
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        
        tabButtons.forEach(button => {
            button.addEventListener('click', function() {
                const tabName = this.getAttribute('data-tab');
                
                // Remove active state from all tabs
                tabButtons.forEach(btn => {
                    btn.classList.remove('active', 'border-blue-500', 'text-blue-600', 'dark:text-blue-400');
                    btn.classList.add('border-transparent', 'text-gray-500', 'dark:text-gray-400');
                });
                
                // Hide all tab contents
                tabContents.forEach(content => {
                    content.classList.add('hidden');
                });
                
                // Activate clicked tab
                this.classList.add('active', 'border-blue-500', 'text-blue-600', 'dark:text-blue-400');
                this.classList.remove('border-transparent', 'text-gray-500', 'dark:text-gray-400');
                
                // Show corresponding content
                document.getElementById(tabName + '-tab').classList.remove('hidden');
            });
        });
        
        // Code language selector
        const codeTabButtons = document.querySelectorAll('.code-tab-button');
        
        codeTabButtons.forEach(button => {
            button.addEventListener('click', function() {
                const language = this.getAttribute('data-lang');
                
                // Remove active state from all code tabs
                codeTabButtons.forEach(btn => {
                    btn.classList.remove('active', 'bg-blue-100', 'dark:bg-blue-900/30', 'text-blue-700', 'dark:text-blue-300');
                    btn.classList.add('bg-gray-100', 'dark:bg-gray-700', 'text-gray-700', 'dark:text-gray-300');
                });
                
                // Activate clicked tab
                this.classList.add('active', 'bg-blue-100', 'dark:bg-blue-900/30', 'text-blue-700', 'dark:text-blue-300');
                this.classList.remove('bg-gray-100', 'dark:bg-gray-700', 'text-gray-700', 'dark:text-gray-300');
                
                // TODO: Load and display code for selected language
                console.log('Loading code for:', language);
            });
        });
        
        // Control buttons
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        const resetBtn = document.getElementById('resetBtn');
        const randomizeBtn = document.getElementById('randomizeBtn');
        
        // @FUNCTIONALITY: Sorting algorithm controls should implement start/stop/reset/randomize functionality
        startBtn.addEventListener('click', function() {
            // TODO: Start sorting animation with selected algorithm
            console.log('Starting sorting animation...');
        });
        
        stopBtn.addEventListener('click', function() {
            // TODO: Stop current sorting animation
            console.log('Stopping sorting animation...');
        });
        
        resetBtn.addEventListener('click', function() {
            // TODO: Reset array to initial state
            console.log('Resetting array...');
        });
        
        randomizeBtn.addEventListener('click', function() {
            // TODO: Generate new random array
            console.log('Generating new random array...');
        });
        
        // Performance benchmarking
        const runBenchmark = document.getElementById('runBenchmark');
        const globalComparison = document.getElementById('globalComparison');
        const globalModal = document.getElementById('globalModal');
        const closeModal = document.getElementById('closeModal');
        
        runBenchmark.addEventListener('click', function() {
            // TODO: Run performance benchmark for selected algorithm
            console.log('Running benchmark...');
        });
        
        globalComparison.addEventListener('click', function() {
            globalModal.classList.remove('hidden');
        });
        
        closeModal.addEventListener('click', function() {
            globalModal.classList.add('hidden');
        });
        
        // Close modal when clicking outside
        globalModal.addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
            }
        });
        
        // Algorithm selection change
        const algorithmSelect = document.getElementById('algorithmSelect');
        algorithmSelect.addEventListener('change', function() {
            const selectedAlgorithm = this.value;
            // TODO: Update algorithm information and code snippets based on selection
            console.log('Selected algorithm:', selectedAlgorithm);
        });
        
        // Array size change
        const arraySize = document.getElementById('arraySize');
        arraySize.addEventListener('change', function() {
            const size = parseInt(this.value);
            // TODO: Generate new array with specified size
            console.log('Array size changed to:', size);
        });
        
        // Speed control
        const speedSlider = document.getElementById('speedSlider');
        speedSlider.addEventListener('input', function() {
            const speed = parseInt(this.value);
            // TODO: Update animation speed
            console.log('Animation speed:', speed);
        });
        
        // @FUNCTIONALITY: Initialize Chart.js for performance visualization
        const ctx = document.getElementById('performanceChart');
        if (ctx) {
            // TODO: Initialize Chart.js instance for performance graphs
            console.log('Chart.js should be initialized here');
        }
        
        // Initialize syntax highlighting
        if (typeof Prism !== 'undefined') {
            Prism.highlightAll();
        }
    })();
    </script>
</body>
</html>